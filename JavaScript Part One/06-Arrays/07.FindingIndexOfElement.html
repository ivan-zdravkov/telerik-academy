<html>
	<head>
		<title>Finding Index Of Element</title>
		<link href="styles/js-console.css" rel="stylesheet" />
	</head>
	
	<body>
		<span>Find the index of a given element</span><br />
		
		<div id="js-console"></div>
		<script src="scripts/js-console.js"></script>
		 
		<script>
			document.onload(FindingIndexOf());
		
            function FindingIndexOf() {
                var numberOfArrays = 5;
                var numberOfElementsInArray = 10;
                var rangeOfNumbers = 20;

                var array = new Array(numberOfArrays);
                for (var i = 0; i < array.length; i++) {
                    array[i] = new Array(numberOfElementsInArray);
                    for (var j = 0; j < array[i].length; j++) {
                        array[i][j] = Math.floor((Math.floor(Math.random() * rangeOfNumbers)));
                    }

                    Sort(array[i]);

                    var elementToFind = (Math.floor(Math.random() * 10));
                    jsConsole.writeLine("Looking for the number " + elementToFind);
                    jsConsole.writeLine(BinSearch(array[i], elementToFind, 0, array[i].length));
                    jsConsole.writeLine("");
                }
            }

            function Sort(array) {
                for (var i = 0; i < array.length; i++)
                {
                    var index = GetMinIndex(array, i);
                    var temp = array[i];
                    array[i] = array[index];
                    array[index] = temp;
                }

                jsConsole.writeLine("Sorted Array: &nbsp&nbsp" + array.join(", "));
            }

            function BinSearch(array, key, min, max) {
                while (max >= min)
                {
                    var mid = Math.floor((max + min) / 2);

                    if (array[mid] < key)
                    {
                        min = mid + 1;
                    }
                    else if (array[mid] > key)
                    {
                        max = mid - 1;
                    }
                    else 
                    {
                        return "The index of the number " + key + " in the array is [" + mid + "]";
                    }
                }
                return "The element you are looking for is not in the array!";
            }

            function GetMinIndex(numbers, index) {
                var min = numbers[index];
                var indexOfMin = index;

                for (var j = index; j < numbers.length; j++) {
                    if (min > numbers[j]) {
                        min = numbers[j];
                        indexOfMin = j;
                    }
                }
                return indexOfMin;
            }
		</script>
	</body>
</html>